<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>Containerizing your applications with Docker - Part 1 &middot; André Almar</title>

  
  <link rel="stylesheet" href="http://andrealmar.com/css/poole.css">
  <link rel="stylesheet" href="http://andrealmar.com/css/hyde.css">
  <link rel="stylesheet" href="http://andrealmar.com/css/poole-overrides.css">
  <link rel="stylesheet" href="http://andrealmar.com/css/hyde-overrides.css">
  <link rel="stylesheet" href="http://andrealmar.com/css/hyde-x.css">
  <link rel="stylesheet" href="http://andrealmar.com/css/highlight/sunburst.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://andrealmar.com/touch-icon-144-precomposed.png">
  <link href="http://andrealmar.com/favicon.png" rel="icon">

  
  
  
  

  <meta name="description" content="I am a software developer trying to change the world one line-of-code at a time.">
  <meta name="keywords" content="andre,almar,andre almar,developer,engineer,web application,python,golang,javascript,html,docker,devops,entrepreneurship, web development">
  
</head>
<body class="theme-base-4b">
<div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      
      <h1>André Almar</h1>
      <p class="lead">Trying to change the world one line-of-code at a time.</p>
    </div>

    <ul class="sidebar-nav">
      <li class="sidebar-nav-item"><a href="http://andrealmar.com/">Home</a></li>
      <li class="sidebar-nav-item"><a href="http://andrealmar.com/about">About</a></li>
      <li class="sidebar-nav-item"><a href="http://andrealmar.com/talks">Talks</a></li>
      <li class="sidebar-nav-item"><a href="http://andrealmar.com/projects">Projects</a></li>
      <li class="sidebar-nav-item"><a href="mailto:andre@pydevv.com?Subject=Contact%20via%20website">Contact</a></li>
      <li class="sidebar-nav-item"><a href="http://andrealmar.com/download/andre-araujo-cv.pdf">Resume</a></li>


      
    </ul>

    <ul class="sidebar-nav">
      <li class="sidebar-nav-item">
      <a href="https://github.com/andrealmar"><i class="fa fa-github-square fa-3x"></i></a>
      
      
      
      <a href="https://plus.google.com/&#43;AndreAraujo04"><i class="fa fa-google-plus-square fa-3x"></i></a>
      <a href="https://facebook.com/andrealmar"><i class="fa fa-facebook-square fa-3x"></i></a>
      <a href="https://twitter.com/andre_almar"><i class="fa fa-twitter-square fa-3x"></i></a>
      
      
      </li>
    </ul>

    

    <p>&copy; 2016 Andre Almar<br/>
    All Rights Reserved <br />Creative Commons License<a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/"><img alt="Contract Creative Commons" style="border-width:0" src="http://i.creativecommons.org/l/by-sa/3.0/80x15.png" /></a></p>
  </div>
</div>


<div class="content container">
  <div class="post">
    <h1>Containerizing your applications with Docker - Part 1</h1>
    <span class="post-date">Apr 4, 2016 &middot; 5 minute read &middot; <a href="http://andrealmar.com/2016/04/containerizing-your-applications-with-docker-part-i/#disqus_thread">Comments</a>
    
    <br/>
    <a class="label" href="http://andrealmar.com/categories/vagrant">vagrant</a><a class="label" href="http://andrealmar.com/categories/python">python</a><a class="label" href="http://andrealmar.com/categories/docker">docker</a><a class="label" href="http://andrealmar.com/categories/devops">devops</a>
    </span>
    

<p>Docker. First time I&rsquo;ve heard about Docker and I did some research on this topic, I couldn&rsquo;t understand what Docker was. I&rsquo;m used to Virtual Machines, Vagrant and so on. I thought they (Docker and Vagrant) were the same thing but I was completely wrong. Let&rsquo;s make first a brief introduction to some concepts to clarify what Docker is and how can we use it.</p>

<h2 id="what-is-a-virtual-machine-vm">What is a Virtual Machine (VM)?</h2>

<blockquote>
<p>In computing, a virtual machine (VM) is an emulation of a particular computer system. Virtual machines operate based on the computer architecture and functions of a real or hypothetical computer, and their implementations may involve specialized hardware, software, or a combination of both.</p>
</blockquote>

<p>A virtual machine (VM) is a software implementation of a machine (for example, a computer) that executes programs like a physical machine.</p>

<p><img src="/images/virtual_machine.png"></p>

<p>Each virtual machine includes the application, the necessary binaries and libraries and an entire guest operating system - all of which <strong>may be tens of GBs in size</strong>.</p>

<h2 id="what-is-vagrant">What is Vagrant?</h2>

<blockquote>
<p>Vagrant is a tool for building complete development environments. With an easy-to-use workflow and focus on automation, Vagrant lowers development environment setup time, increases development/production parity, and makes the &ldquo;works on my machine&rdquo; excuse a relic of the past.</p>
</blockquote>

<p>This is very interesting because it facilitates when a new developer is hired. All your new hire will need to do is to execute a simple command and the environment is set up.</p>

<p>You run a provisioning script against your virtual machine exactly as you would against a production or staging machine. In the provisioning script you tell Vagrant to install the correct version of Python, Django, set up the user permissions, configure anything that needs to be configured and so on&hellip;</p>

<p>In other words you can automate the creation of your environments. But, you are <strong>not</strong> free from Virtual Machines. You can use different VM providers to work along with Vagrant but you <strong>have</strong> to use one otherwise Vagrant won&rsquo;t work. The most common is <a href="http://www.virtualbox.org">VirtualBox</a>. Also, there are a lot of premade “boxes” ready to use. You can search them using:</p>

<ul>
<li><a href="https://atlas.hashicorp.com/boxes/search">https://atlas.hashicorp.com/boxes/search</a></li>
<li><a href="http://www.vagrantbox.es/">http://www.vagrantbox.es/</a></li>
</ul>

<p><img src="/images/vagrant.png"></p>

<p><strong>Vagrant in a nutshell:</strong> Different boxes and we put our code in those different boxes.</p>

<h2 id="what-is-a-container">What is a Container?</h2>

<p><img src="/images/container.jpg"></p>

<p>Simple. Is something that looks like the photo above. =P Naahh&hellip;just kidding.</p>

<p>Containers have similar resource isolation and allocation benefits as virtual machines but a different architectural approach allows them to be much more portable and efficient.</p>

<p>This whole idea is based on LXC (Linux Containers). LXC (Linux Containers) is an operating-system-level virtualization method for running multiple isolated Linux systems (containers) on a control host using a single Linux kernel.</p>

<p>With container-based virtualization, there isn&rsquo;t the overhead associated with having each guest run a completely installed operating system. This approach can also improve performance because there is just one operating system taking care of hardware calls. A disadvantage of container-based virtualization, however, is that each guest must use the same operating system the host uses.</p>

<p><img src="/images/lxc.png"></p>

<p>Containers include the application and all of its dependencies, but <em>share the kernel</em> with other containers. They run as an isolated process in userspace on the host operating system. They’re also <em>not tied</em> to any specific infrastructure – for example, Docker containers run on <em>any computer</em>, on <em>any infrastructure</em> and in any cloud.</p>

<h1 id="what-is-docker">What is Docker?</h1>

<blockquote>
<p>Docker containers wrap up a piece of software in a complete filesystem that contains everything it needs to run: code, runtime, system tools, system libraries – anything you can install on a server. This guarantees that it will always run the same, regardless of the environment it is running in.</p>
</blockquote>

<p>In Docker we can build our environment and run anywhere. If a machine has Docker on it the container is going to run and is going to work.</p>

<p>They act as Virtual Machines but they are really self-contained processes. You are really packaging a whole application or an entire environment inside a container.</p>

<p>You build your image once, push it to Docker Hub or Quay.io and now you can run your image anywhere.</p>

<p><img src="/images/containers_diagram.png"></p>

<h1 id="installing-docker">Installing Docker</h1>

<p>I&rsquo;m assuming you&rsquo;re using Mac OS, for other OS follow the instructions on Docker homepage (<a href="http://www.docker.com">http://www.docker.com</a>)</p>

<p>Go to the homepage (<a href="http://www.docker.com">http://www.docker.com</a>), click on the <em>Get Started with Docker</em> link. This will redirect you to <a href="https://docs.docker.com/mac/">https://docs.docker.com/mac/</a> and then click on <em>Go to the next page to install</em>.</p>

<p>The next page will tell you that because Docker Engine daemon uses Linux-specific kernel features, you can&rsquo;t run Docker Engine natively in OS X. This is changing: <a href="https://blog.docker.com/2016/03/docker-for-mac-windows-beta/">https://blog.docker.com/2016/03/docker-for-mac-windows-beta/</a></p>

<p>But for this tutorial we are going to use the &ldquo;old&rdquo; way!? Make sure your Mac is running OS X 10.8 “Mountain Lion” or newer to run Docker software. Install Docker Toolbox <a href="https://www.docker.com/products/docker-toolbox">https://www.docker.com/products/docker-toolbox</a></p>

<p>Go to your launcher and click the Docker Quickstart Terminal:</p>

<p><img src="/images/docker_quickstart_launcher.png"></p>

<p>A Terminal window will show up.</p>

<p><img src="/images/docker_terminal.png"></p>

<p>We are ready to test our Docker installation. To do that just type in your terminal the command:</p>

<pre><code class="language-shell">docker run hello-world
</code></pre>

<p>If you see this output below, you succeeded installing Docker:</p>

<pre><code>Unable to find image 'hello-world:latest' locally
latest: Pulling from library/hello-world

03f4658f8b78: Pull complete 
a3ed95caeb02: Pull complete 
Digest: sha256:8be990ef2aeb16dbcb9271ddfe2610fa6658d13f6dfb8bc72074cc1ca36966a7
Status: Downloaded newer image for hello-world:latest

Hello from Docker.
This message shows that your installation appears to be working correctly.

To generate this message, Docker took the following steps:
 1. The Docker client contacted the Docker daemon.
 2. The Docker daemon pulled the &quot;hello-world&quot; image from the Docker Hub.
 3. The Docker daemon created a new container from that image which runs the
    executable that produces the output you are currently reading.
 4. The Docker daemon streamed that output to the Docker client, which sent it
    to your terminal.

To try something more ambitious, you can run an Ubuntu container with:
 $ docker run -it ubuntu bash

Share images, automate workflows, and more with a free Docker Hub account:
 https://hub.docker.com

For more examples and ideas, visit:
 https://docs.docker.com/userguide/
</code></pre>

<p>See you on Part 2.</p>

<p>Bye,</p>

<p>References:</p>

<p><a href="https://en.wikipedia.org/wiki/Virtual_machine">https://en.wikipedia.org/wiki/Virtual_machine</a><br />
<a href="https://www.docker.com/what-docker">https://www.docker.com/what-docker</a><br />
<a href="https://en.wikipedia.org/wiki/LXC">https://en.wikipedia.org/wiki/LXC</a><br />
<a href="http://www.mundodocker.com.br/">http://www.mundodocker.com.br/</a></p>

  </div>
  <div id="disqus_thread"></div>
</div>


<script type="text/javascript">
var disqus_shortname = "andrealmar";
(function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());
</script>



<script type="text/javascript">
    var disqus_shortname = "andrealmar";
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

<script src="http://andrealmar.com/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-58773330-1', 'auto');
  ga('send', 'pageview');
</script>

</body>
</html>

